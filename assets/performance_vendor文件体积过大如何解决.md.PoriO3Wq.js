import{_ as l,o as a,c as i,ah as r}from"./chunks/framework.Dzv1qGE5.js";const u=JSON.parse('{"title":"vendor文件体积过大如何解决","description":"","frontmatter":{},"headers":[{"level":2,"title":"分析定位问题","slug":"分析定位问题","link":"#分析定位问题","children":[]},{"level":2,"title":"优化依赖管理","slug":"优化依赖管理","link":"#优化依赖管理","children":[]},{"level":2,"title":"Tree Shaking","slug":"tree-shaking","link":"#tree-shaking","children":[]},{"level":2,"title":"代码拆分（Code Splitting）","slug":"代码拆分-code-splitting","link":"#代码拆分-code-splitting","children":[]}],"relativePath":"performance/vendor文件体积过大如何解决.md","filePath":"performance/vendor文件体积过大如何解决.md"}'),t={name:"performance/vendor文件体积过大如何解决.md"};function n(o,e,s,d,c,h){return a(),i("div",null,[...e[0]||(e[0]=[r('<h1 id="vendor文件体积过大如何解决" tabindex="-1">vendor文件体积过大如何解决 <a class="header-anchor" href="#vendor文件体积过大如何解决" aria-label="Permalink to “vendor文件体积过大如何解决”">​</a></h1><p>在前端工程化构建中，vendor 文件通常是指由第三方依赖库（如 React、Vue 等）打包生成的 chunk。体积过大会影响首屏加载速度，降低用户体验。</p><h2 id="分析定位问题" tabindex="-1">分析定位问题 <a class="header-anchor" href="#分析定位问题" aria-label="Permalink to “分析定位问题”">​</a></h2><p>先使用工具分析打包文件，找到体积瓶颈。</p><ul><li>Webpack：webpack-bundle-analyzer</li><li>Vite：rollup-plugin-visualizer</li><li>通用：source-map-explorer</li></ul><h2 id="优化依赖管理" tabindex="-1">优化依赖管理 <a class="header-anchor" href="#优化依赖管理" aria-label="Permalink to “优化依赖管理”">​</a></h2><ul><li>剔除未使用的库：检查 package.json，移除未引用的依赖。</li><li>升级依赖：较新版本可能包含体积优化（如 React 17+ 比 16 更小）。</li><li>使用轻量替代库：例如用 date-fns 替代 moment，用 zustand 替代 redux。</li></ul><h2 id="tree-shaking" tabindex="-1">Tree Shaking <a class="header-anchor" href="#tree-shaking" aria-label="Permalink to “Tree Shaking”">​</a></h2><ul><li>确保构建工具生产模式开启 sideEffects 优化（Webpack 5+ 默认支持）。</li><li>在 package.json 中声明 &quot;sideEffects&quot;: false（谨慎使用，避免移除 CSS 等副作用代码）。</li><li>优先使用 ES Module 版本的依赖（如 lodash-es 代替 lodash）。</li></ul><h2 id="代码拆分-code-splitting" tabindex="-1">代码拆分（Code Splitting） <a class="header-anchor" href="#代码拆分-code-splitting" aria-label="Permalink to “代码拆分（Code Splitting）”">​</a></h2><ul><li>异步组件和路由懒加载</li><li>按需加载第三方库：仅在特定组件加载时引入（如 import(&#39;echarts&#39;)）。</li><li>拆分 vendor 为多个 chunk： <ul><li>将体积大的库单独拆包（如 react, react-dom 打成一个 react.js）。</li><li>Webpack 配置 optimization.splitChunks 自定义拆分策略（如 chunks: &#39;all&#39;，并根据 minSize、cacheGroups 细分）。</li><li>Vite 使用 build.rollupOptions.output.manualChunks 自定义。</li></ul></li></ul>',11)])])}const _=l(t,[["render",n]]);export{u as __pageData,_ as default};
