import{_ as i,o as a,c as l,ah as n}from"./chunks/framework.Dzv1qGE5.js";const E=JSON.parse('{"title":"相等性比较","description":"","frontmatter":{},"headers":[{"level":2,"title":"抽象相等比较（==）","slug":"抽象相等比较","link":"#抽象相等比较","children":[{"level":3,"title":"字符串和数字之间的相等比较","slug":"字符串和数字之间的相等比较","link":"#字符串和数字之间的相等比较","children":[]},{"level":3,"title":"布尔类型和其他类型的相等比较","slug":"布尔类型和其他类型的相等比较","link":"#布尔类型和其他类型的相等比较","children":[]},{"level":3,"title":"null 和 undefined 之间的相等比较","slug":"null-和-undefined-之间的相等比较","link":"#null-和-undefined-之间的相等比较","children":[]},{"level":3,"title":"对象 和 基本类型 之间的相等比较","slug":"对象-和-基本类型-之间的相等比较","link":"#对象-和-基本类型-之间的相等比较","children":[{"level":4,"title":"特殊情况","slug":"特殊情况","link":"#特殊情况","children":[]}]}]},{"level":2,"title":"严格相等比较（===）","slug":"严格相等比较","link":"#严格相等比较","children":[{"level":4,"title":"规则","slug":"规则","link":"#规则","children":[]}]},{"level":2,"title":"同值零比较（Object.is）","slug":"同值零比较-object-is","link":"#同值零比较-object-is","children":[]},{"level":2,"title":"最佳实践","slug":"最佳实践","link":"#最佳实践","children":[]},{"level":2,"title":"注意","slug":"注意","link":"#注意","children":[]}],"relativePath":"javascript/basic/相等性比较.md","filePath":"javascript/basic/相等性比较.md"}'),h={name:"javascript/basic/相等性比较.md"};function e(t,s,k,p,r,d){return a(),l("div",null,[...s[0]||(s[0]=[n(`<h1 id="相等性比较" tabindex="-1">相等性比较 <a class="header-anchor" href="#相等性比较" aria-label="Permalink to “相等性比较”">​</a></h1><h2 id="抽象相等比较" tabindex="-1">抽象相等比较（==） <a class="header-anchor" href="#抽象相等比较" aria-label="Permalink to “抽象相等比较（==）”">​</a></h2><p>也称为松散相等，当类型不同时，在比较前会进行类型转换。</p><h3 id="字符串和数字之间的相等比较" tabindex="-1">字符串和数字之间的相等比较 <a class="header-anchor" href="#字符串和数字之间的相等比较" aria-label="Permalink to “字符串和数字之间的相等比较”">​</a></h3><p>字符串类型转换为数字类型</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;5&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true (字符串转数字)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;6&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span></code></pre></div><h3 id="布尔类型和其他类型的相等比较" tabindex="-1">布尔类型和其他类型的相等比较 <a class="header-anchor" href="#布尔类型和其他类型的相等比较" aria-label="Permalink to “布尔类型和其他类型的相等比较”">​</a></h3><p>布尔类型转换为数字类型</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;42&#39;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> true</span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"> // false</span></span></code></pre></div><p>true 是布尔类型，转换为数字类型 1，&#39;42&#39; == 1 ，此时类型还是不同，&#39;42&#39; 转换为数字 42，42 == 1 ，因此它们不相等。</p><h3 id="null-和-undefined-之间的相等比较" tabindex="-1">null 和 undefined 之间的相等比较 <a class="header-anchor" href="#null-和-undefined-之间的相等比较" aria-label="Permalink to “null 和 undefined 之间的相等比较”">​</a></h3><p>在 == 中 null 和 undefined 相等（它们也与自身相等），<strong>除此之外其他值都不和它们两个相等</strong>。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">var</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> b; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> false</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">a </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">b </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">==</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">; </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span></code></pre></div><h3 id="对象-和-基本类型-之间的相等比较" tabindex="-1">对象 和 基本类型 之间的相等比较 <a class="header-anchor" href="#对象-和-基本类型-之间的相等比较" aria-label="Permalink to “对象 和 基本类型 之间的相等比较”">​</a></h3><p>将对象转换为基本类型再比较。</p><p><strong>对象转换为基本类型原理</strong></p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>对象 == 基本类型</span></span>
<span class="line"><span>    ↓</span></span>
<span class="line"><span>检查对象是否有 [Symbol.toPrimitive] 方法？ (ES6+)</span></span>
<span class="line"><span>    ↓ 没有或不是函数</span></span>
<span class="line"><span>调用 valueOf()</span></span>
<span class="line"><span>    ↓ 返回原始值？</span></span>
<span class="line"><span>    ├─ 是 → 使用该原始值比较</span></span>
<span class="line"><span>    ↓ 否</span></span>
<span class="line"><span>调用 toString()</span></span>
<span class="line"><span>    ↓ 返回原始值？</span></span>
<span class="line"><span>    ├─ 是 → 使用该原始值比较</span></span>
<span class="line"><span>    ↓ 否</span></span>
<span class="line"><span>抛出 TypeError</span></span></code></pre></div><h4 id="特殊情况" tabindex="-1">特殊情况 <a class="header-anchor" href="#特殊情况" aria-label="Permalink to “特殊情况”">​</a></h4><ul><li>NaN 不等于 NaN</li><li>+0 不等于 -0</li></ul><h2 id="严格相等比较" tabindex="-1">严格相等比较（===） <a class="header-anchor" href="#严格相等比较" aria-label="Permalink to “严格相等比较（===）”">​</a></h2><p>也称为严格相等，不进行类型转换，要求类型相同且值相等。</p><h4 id="规则" tabindex="-1">规则 <a class="header-anchor" href="#规则" aria-label="Permalink to “规则”">​</a></h4><ul><li>如果类型不同，返回false。</li><li>如果类型相同，则比较值： <ul><li>对于基本类型，直接比较值是否相同。</li><li>对于引用类型，比较它们是否指向同一个内存地址（即同一个对象）。</li></ul></li></ul><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;           </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;5&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;         </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false (类型不同)</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NaN</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> NaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;       </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> ===</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> -</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">;          </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span></code></pre></div><h2 id="同值零比较-object-is" tabindex="-1">同值零比较（Object.is） <a class="header-anchor" href="#同值零比较-object-is" aria-label="Permalink to “同值零比较（Object.is）”">​</a></h2><p>ES6新增的方法，与严格相等类似，但对待NaN和+0、-0不同。</p><div class="language-js"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">NaN</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);   </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// true</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">+</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Object.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">is</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;5&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);     </span><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// false (同===，类型不同)</span></span></code></pre></div><h2 id="最佳实践" tabindex="-1">最佳实践 <a class="header-anchor" href="#最佳实践" aria-label="Permalink to “最佳实践”">​</a></h2><ul><li>绝大多数情况下，应使用严格相等 ===/!==，可避免隐式转换带来的意外结果。</li><li>避免使用抽象相等 ==/!=，除非你明确理解其转换规则并需要简写（如 val == null 可同时检查 null 和 undefined）。</li><li>**Object.is() 主要用于需要精确识别 NaN 或区分 +0 和 -0 的特殊场景（如数学计算、库开发）。</li></ul><h2 id="注意" tabindex="-1">注意 <a class="header-anchor" href="#注意" aria-label="Permalink to “注意”">​</a></h2><p>常见的误区：“==检查值是否相等，===检查值和类型是否相等”，这个解释是错误的。</p><p>正确的解释是：“==允许在相等比较中进行强制类型转换，而===不允许”</p>`,32)])])}const c=i(h,[["render",e]]);export{E as __pageData,c as default};
