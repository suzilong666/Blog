# 类型转换

## 一、隐式类型转换（自动转换）

### 1. 字符串拼接

```js
console.log(5 + '5'); // "55"
console.log(true + ' false'); // "true false"
```

### 2. 数学运算

```js
console.log('10' - 5); // 5
console.log('10' * '2'); // 20
console.log('10' / '2'); // 5
console.log('10' - 'x'); // NaN
```

### 3. 布尔上下文

```js
if ('hello') { // true
  console.log('执行');
}
console.log(!0); // true
console.log(!'hello'); // false
```

### 4. 松散相等（==）

```js
console.log(5 == '5'); // true
console.log(true == 1); // true
console.log(null == undefined); // true
console.log(false == 0); // true
```

## 二、显式类型转换（强制转换）

### 1. 转换为字符串

```js
String(123); // "123"
(123).toString(); // "123"
true.toString(); // "true"
```

### 2. 转换为数字

```js
Number('123'); // 123
Number('123abc'); // NaN
parseInt('123px'); // 123
parseFloat('12.34em'); // 12.34
+'123'; // 123
```

### 3. 转换为布尔值

```js
Boolean(1); // true
Boolean(0); // false
Boolean('hello'); // true
Boolean(''); // false
Boolean(null); // false
Boolean(undefined); // false
Boolean({}); // true
!!'hello'; // true
```

## 三、特殊转换规则

### 1. 对象转原始值

```js
let obj = {};
console.log(obj.toString()); // "[object Object]"
console.log(obj.valueOf()); // {}

// 数组转字符串
console.log([1, 2] + ''); // "1,2"
```

### 2. 加法运算的特殊性

```js
console.log(1 + 2 + '3'); // "33" (从左到右)
console.log('1' + 2 + 3); // "123"
```

### 3. 比较运算符

```js
console.log('10' > 9); // true (转为数字比较)

console.log('10' > '9'); // false (字符串比较，字符'1' < '9')
```
在 JavaScript 中，当比较运算符 > 用于两个字符串时，会进行字符串比较，而不是数值比较。字符串比较是基于字符的 Unicode 编码值逐位进行的。

**'10' > '9' 这个比较的过程是：**

1. 比较第一个字符：'1' 和 '9'
2. '1' 的 Unicode 编码是 49
3. '9' 的 Unicode 编码是 57
4. 因为 49 < 57，所以 '1' < '9'
5. 由于第一个字符已经能确定大小，直接返回结果 false

## 四、类型转换表


| 原始值       | 转字符串          | 转数字    | 转布尔值 |
| ------------ | ----------------- | --------- | -------- |
| false        | "false"           | 0         | false    |
| true         | "true"            | 1         | true     |
| 0            | "0"               | 0         | false    |
| 1            | "1"               | 1         | true     |
| "0"          | "0"               | 0         | true     |
| "1"          | "1"               | 1         | true     |
| NaN          | "NaN"             | NaN       | false    |
| Infinity     | "Infinity"        | Infinity  | true     |
| -Infinity    | "-Infinity"       | -Infinity | true     |
| ""           | ""                | 0         | false    |
| "20"         | "20"              | 20        | true     |
| "twenty"     | "twenty"          | NaN       | true     |
| []           | ""                | 0         | true     |
| [20]         | "20"              | 20        | true     |
| [10,20]      | "10,20"           | NaN       | true     |
| function(){} | "function(){}"    | NaN       | true     |
| {}           | "[object Object]" | NaN       | true     |
| null         | "null"            | 0         | false    |
| undefined    | "undefined"       | NaN       | false    |